<div class="pizza-modal">
    <header class="modal-header">
        <button class="close-modal" @click="cancel">&times;</button>
        <h3>Mondd el, hogyan szeretnéd...</h3>
    </header>
    <div class="modal-content">
        <div class="pizza-modal-group">
            <h3>{{ dish.name }}</h3>
        </div>
        <div class="pizza-modal-group">
            <h4>Méret</h4>
            <select v-model="order.variant">
                <option v-for="variant in dish.variants" value="{{ variant.name }}">{{ variant.name }} - {{ variant.price }} Ft</option>
            </select>
        </div>

        <div class="pizza-modal-group" v-if="availableExtras && availableExtras.length">
            <h4>Kiválasztott extrák: </h4>
            <span v-if="order.extras.length === 0">Még nem választottál extrát. Az alábbi listából választhatsz.</span>
            <a class="selected-extra" href="#" v-for="extra in order.extras" @click.prevent="removeExtra(extra)">{{ extra.name }}&nbsp;({{ extra.price }} Ft)</a>
        </div>

        <section class="actions">
            <span class="total-price">{{ totalPrice }} Ft</span>
            <button @click="cancel">Mégsem</button>
            <button class="btn-primary" @click="addToCart"><svg class="icon-cart"><use xlink:href="#icon-cart"></use></svg> Kosárba</button>
        </section>

        <section v-if="availableExtras && availableExtras.length">
            <h3 style="margin-top: 12px;">Extrák</h3>
            <div class="pizza-modal-group" v-for="extra in availableExtras">
                <h4>{{ extra.name }} ({{ extra.price }} Ft):</h4>
                <a class="available-extra" v-for="item in extra.list" @click.prevent="addExtra(extra.name, item, extra.price)" href="#">{{ item }}</a>
            </div>
        </section>
        
        <h3>Megjegyzések</h3>
        <textarea class="notes" v-model="order.notes" rows="3"></textarea>
    </div>
</div>
